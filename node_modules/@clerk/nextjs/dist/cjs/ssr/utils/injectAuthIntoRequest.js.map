{"version":3,"sources":["../../../../src/ssr/utils/injectAuthIntoRequest.ts"],"sourcesContent":["import type { GetServerSidePropsContext } from 'next';\n\nimport type { AuthData, ContextWithAuth } from '../types';\n\n/**\n * Inject `auth`, `user` and `session` properties into ctx.request\n * @internal\n */\nexport function injectAuthIntoRequest(ctx: GetServerSidePropsContext, authData: AuthData): ContextWithAuth {\n  const { user, session, userId, sessionId, getToken, claims, organization } = authData;\n  (ctx.req as any).auth = {\n    userId,\n    sessionId,\n    getToken,\n    claims,\n    actor: claims?.act || null,\n  };\n  (ctx.req as any).user = user;\n  (ctx.req as any).session = session;\n  (ctx.req as any).organization = organization;\n  return ctx as ContextWithAuth;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAQO,SAAS,sBAAsB,KAAgC,UAAqC;AACzG,QAAM,EAAE,MAAM,SAAS,QAAQ,WAAW,UAAU,QAAQ,aAAa,IAAI;AAC7E,EAAC,IAAI,IAAY,OAAO;AAAA,IACtB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,OAAO,QAAQ,OAAO;AAAA,EACxB;AACA,EAAC,IAAI,IAAY,OAAO;AACxB,EAAC,IAAI,IAAY,UAAU;AAC3B,EAAC,IAAI,IAAY,eAAe;AAChC,SAAO;AACT;","names":[]}