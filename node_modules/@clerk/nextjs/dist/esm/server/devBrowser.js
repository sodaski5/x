const DEV_BROWSER_JWT_MARKER = "__clerk_db_jwt";
const DEV_BROWSER_JWT_MARKER_REGEXP = /__clerk_db_jwt\[(.*)\]/;
function extractDevBrowserJWT(url) {
  const matches = url.match(DEV_BROWSER_JWT_MARKER_REGEXP);
  return matches ? matches[1] : "";
}
function setDevBrowserJWTInURL(url, jwt) {
  if (!jwt) {
    return url;
  }
  const dbJwt = extractDevBrowserJWT(url);
  if (dbJwt) {
    url.replace(`${DEV_BROWSER_JWT_MARKER}[${dbJwt}]`, jwt);
    return url;
  }
  const hasHash = (url || "").includes("#");
  return `${url}${hasHash ? "" : "#"}${DEV_BROWSER_JWT_MARKER}[${(jwt || "").trim()}]`;
}
export {
  DEV_BROWSER_JWT_MARKER,
  setDevBrowserJWTInURL
};
//# sourceMappingURL=devBrowser.js.map